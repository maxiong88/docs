---
title: 移动端1px边框的问题
date: 2017-03-17 13:53:08
tags: webApp
---


面试遇到的问题，在实际项目中忽略了这种问题；

看了京东的移动端网站，0.5px的线看上去就比1px的线看上去要精致很多；

<!-- more -->

京东的主要是缩放

1.先看京东的单线0.5px方法：


html 代码


```
<div class="bd-1"></div>
```

css 代码

```
.bd-1{
	position: relative;
	width: 100px;
	height: 100px;
}
.bd-1::after{
	content: " ";
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 1px;
	background: #000;
	transform: scaleY(0.5);
	-webkit-transform: scaleY(0.5)
}

```

2.看到京东四边线0.5px

html 代码

```
<span class="guess-button">看相似</span>
```

css 代码

```
.guess-button {
    display: block;
    position: absolute;
    top: 0;
    right: 8px;
    text-align: center;
    color: #686868;
    font-size: 12px;
    width: 49px;
    height: 24px;
    line-height: 25px;
}
.guess-button::after {
    content: '';
    width: 200%;
    height: 200%;
    position: absolute;
    top: 0;
    left: 0;
    border: 1px solid #bfbfbf;
    border-radius: 4px;
    -webkit-transform: scale(0.5,0.5);
    transform: scale(0.5,0.5);
    -webkit-transform-origin: top left;
}
/*weui解决办法*/
.weui-btn:after {
		content: " ";
		width: 200%;
		height: 200%;
		position: absolute;
		top: 0;
		left: 0;
		border: 1px solid rgba(0, 0, 0, 0.2);
		-webkit-transform: scale(0.5);
		transform: scale(0.5);
		-webkit-transform-origin: 0 0;
		transform-origin: 0 0;
		box-sizing: border-box;
		border-radius: 10px;
}

```

3.媒体查询与dpr

	圆角 
	
			@media screen and (-webkit-min-device-pixel-ratio: 2) {
			    .ui-border-radius {
			        position:relative;
			        border: 0
			    }
			
			    .ui-border-radius:before {
			        content: "";
			        width: 200%;
			        height: 200%;
			        position: absolute;
			        top: 0;
			        left: 0;
			        border: 1px solid #e0e0e0;
			        -webkit-transform: scale(0.5);
			        -webkit-transform-origin: 0 0;
			        padding: 1px;
			        -webkit-box-sizing: border-box;
			        border-radius: 8px;
			        pointer-events: none
			    }
			}
  
  
  正方形

			
@media screen and (-webkit-min-device-pixel-ratio: 2) {
 
  .ui-border:after {
	        content: "";
	        width: 100%;
	        height: 100%;
	        position: absolute;
	        top: 0;
	        left: 0;
	        background-image: -webkit-gradient(linear,left bottom,left top,color-stop(0.5,transparent),color-stop(0.5,#e0e0e0),to(#e0e0e0)),-webkit-gradient(linear,left top,right top,color-stop(0.5,transparent),color-stop(0.5,#e0e0e0),to(#e0e0e0)),-webkit-gradient(linear,left top,left bottom,color-stop(0.5,transparent),color-stop(0.5,#e0e0e0),to(#e0e0e0)),-webkit-gradient(linear,right top,left top,color-stop(0.5,transparent),color-stop(0.5,#e0e0e0),to(#e0e0e0));
	        -webkit-background-size: 100% 1px,1px 100%,100% 1px,1px 100%;
	        background-size: 100% 1px,1px 100%,100% 1px,1px 100%;
	        -webkit-background-size: 100% 1px,1px 100%,100% 1px,1px 100%;
	        background-size: 100% 1px,1px 100%,100% 1px,1px 100%;
	        background-repeat: no-repeat;
	        background-position: top,right,bottom,left;
	        padding: 1px;
	        -webkit-box-sizing: border-box;
	        z-index: 10;
	        pointer-events: none
	    }
	}


4.使用flexible.js适配，可以解决ios下问题，安卓需要以上配制方法（加一个安卓css）

var link = document.createElement("link")
link.setAttribute("rel","stylesheet")
link.setAttribute("type","text/css")
link.setAttribute("href","../../css.css")
document.querySelector("head").appendChild(link)

