<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
    <style>
        body,html{
            background: #333
        }
    </style>
</head>
<body>
    <div id="main" style="width: 600px;height:400px;"></div>
	<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    <script>
        (function(){
            var userUseInfo = {
                allCapacity: 5497558138800,
                useCapacity: 5497558138880,

            }
            var useUnit = '';
            var totalUnit = '';
            var formatStorage = function(e, t) {
                var o = function(e) {
                    return e.toFixed(2)
                };
                return e < 1024 ? (t ? useUnit = "B" : totalUnit = "B", "" + e) : e < 1048576 ? 
                (t ? useUnit = "KB" : totalUnit = "KB", "" + o(e / 1024)) : e < 1073741824 ? 
                (t ? useUnit = "M" : totalUnit = "M", "" + o(e / 1048576)) : e < 1099511627776 ? 
                (t ? useUnit = "G" : totalUnit = "G", "" + o(e / 1073741824)) : e < 0x4000000000000 ? 
                (t ? useUnit = "T" : totalUnit = "T", "" + o(e / 1099511627776)) : void 0
            }
            var getDiskOptions = function(e, t, o, i, n) {
                return {
                    tooltip: {
                        formatter: "overview_disk_used" + ": " + 100 * o + "%"
                    },
                    toolbox: {
                        feature: {
                            restore: {
                                show: !1
                            },
                            saveAsImage: {
                                show: !1
                            }
                        }
                    },
                    series: [{
                        name: "overview_disk_title",
                        type: "gauge",
                        startAngle: 215,
                        endAngle: -35,
                        min: 0,
                        max: n,
                        splitNumber: 10,
                        radius: "100%",
                        data: [{
                            value: i,
                        }],
                        pointer: {
                            width: 5,
                            length: "75%",
                            shadowColor: "#fff",
                            shadowBlur: 5
                        },
                        axisLine: {
                            lineStyle: {
                                color: '#fff',
                                color: [
                                    [1, new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                        offset: 1,
                                        color: "#e25c59"
                                    }, {
                                        offset: 0,
                                        color: "#13cb75"
                                    }], !1)]
                                ],
                                width: 10
                            }
                        },
                        axisLabel: {
                            show: !1,
                            distance: 0,
                            textStyle: {
                                color: "#fff",
                                shadowColor: "#fff",
                                shadowBlur: 5
                            }
                        },
                        axisTick: {
                            show: !1,
                            length: 15,
                            lineStyle: {
                                color: {
                                    type: "radial",
                                    x: .5,
                                    y: .5,
                                    r: .5,
                                    colorStops: [{
                                        offset: 0,
                                        color: "red"
                                    }, {
                                        offset: 1,
                                        color: "blue"
                                    }],
                                    globalCoord: !1
                                }
                            }
                        },
                        splitLine: {
                            length: 15,
                            show: !1,
                            splitNumber: 5,
                            lineStyle: {
                                width: 1,
                                color: "#999",
                                shadowColor: "#fff",
                                shadowBlur: 10
                            }
                        },
                        detail: {
                            show: !0,
                            formatter: ["{score|" + e + useUnit + "}", "{unit|/" + t + totalUnit + "}"].join(""),
                            borderWidth: 0,
                            offsetCenter: [0, "85%"],
                            textStyle: {
                                fontWeight: "bolder",
                                color: "#fff",
                                fontSize: 30
                            },
                            rich: {
                                score: {
                                    color: "#fff",
                                    fontSize: 30
                                },
                                unit: {
                                    color: "#999",
                                    fontSize: 18
                                }
                            }
                        }
                    }]
                }
            }
            // 基于准备好的dom，初始化echarts实例
            var myChart = echarts.init(document.getElementById('main')),
                t = userUseInfo.allCapacity || 0,
                o = userUseInfo.useCapacity || 5497558138880,
                i = Number(formatStorage(t, !0)),
                n = Number(formatStorage(o)),
                r = Number((t / o).toFixed(2)) || Number((t / o).toFixed(3)) || 0,
                a = getDiskOptions(i, n, r, t, o),
                l = t / o || 0;
                l < .4 && (a.series[0].axisLine.lineStyle.color = [
                    [l, "#13cb75"],
                    [1, "#404040"]
                ]), l >= .4 && l <= .5 && (a.series[0].axisLine.lineStyle.color = [
                    [.4, "#13cb75"],
                    [l, new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                        offset: 1,
                        color: "#7c9367"
                    }, {
                        offset: 0,
                        color: "#13cb75"
                    }], !1)],
                    [1, "#404040"]
                ]), l > .5 && (a.series[0].axisLine.lineStyle.color = [
                    [.4, "#13cb75"],
                    [.5, new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                        offset: 1,
                        color: "#7c9367"
                    }, {
                        offset: 0,
                        color: "#13cb75"
                    }], !1)],
                    [l, new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                        offset: 1,
                        color: "#e25c59"
                    }, {
                        offset: 0,
                        color: "#7c9367"
                    }], !1)],
                    [1, "#404040"]
                ]),
            // 使用刚指定的配置项和数据显示图表。
            myChart.setOption(a);
        })();
        
        
    </script>
</body>
</html>